# 节流和防抖

## 节流

### 节流是什么？

在JavaScript中，节流是一种用于**限制函数的执行频率**的技术。

它有助于减少事件处理程序或函数的调用次数，特别是在处理高频事件（比如滚动事件、鼠标移动事件等）时非常有用。

节流是确保函数在**一定时间间隔**内**只被执行一次**，从而减少不必要的计算和资源消耗，提高页面性能和用户体验。



### 节流的主要原因是什么？

1. **性能优化**：节流可以减少浏览器的负担，避免因为高频率的事件触发而导致页面性能下降，特别是在处理复杂的逻辑或者大量的DOM操作时。
2. **防止过度触发事件**：有些事件可能会被频繁地触发，例如滚动事件或者鼠标移动事件。如果不进行节流，每次事件触发都会触发相应的函数执行，可能导致页面行为不受控制或者性能下降。
3. **优化用户体验**：通过控制函数的执行频率，可以使得页面的交互更加平滑和流畅，避免因为过多的函数执行而导致页面卡顿或者延迟响应。



### 如何实现节流？

```javascript
// 一段时间内，只执行一次某个操作；过了这段时间的话，还有操作的话，继续执行新的操作
function throttle(fn) {
    let timer = null;

    return function () {
        if (timer) {
            return
        }
        timer = setTimeout(() => {
            fn();
            timer = null;
        }, 200);
    }
}
```

